<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  
  <title itemprop="name">Mysql使用 | Casuor</title>
  
    <link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/Casuor/CDN/Image/favicon.ico">
  
  <meta http-equiv="x-dns-prefetch-control" content="on">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+SerifMerriweather|Merriweather+Sans|Source+Code+Pro|Ubuntu:400,700|Noto+Serif+SC" media="all">
  <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
  <link rel="stylesheet" id="saukra_css-css" href="/css/style.css" type="text/css" media="all">
  <link rel="stylesheet" href="/css/lib.min.css" media="all">
  <link rel="stylesheet" href="/css/font.css" media="all">
  <link rel="stylesheet" href="/css/insight.css" media="all">
  <link rel="stylesheet" href="/css/jquery.fancybox.min.css" media="all">
  <link rel="stylesheet" href="/css/zoom.css" media="all">
  <link rel="stylesheet" type="text/css" href="/css/sharejs.css">
<!--   <link rel="stylesheet" id="saukra_css-css" href="https://2heng.xin/wp-content/cache/autoptimize/css/autoptimize_ad42a61f4c7d4bdd9f91afcff6b5dda5.css
" type="text/css" media="all"> -->
  <script>
  /*Initial Variables*/
  var mashiro_option = new Object();
  var mashiro_global = new Object();
  mashiro_option.NProgressON = true;
  /* 
   * 邮箱信息之类的东西可以填在这里，这些js变量基本都作用于sakura-app.js
   * 这样的设置仅是为了方便在基于PHP开发的主题中设置js变量，既然移植到了Node上，我想或许可以精简这一逻辑吧
   */
  mashiro_option.email_domain = "";
  mashiro_option.email_name = "";
  mashiro_option.cookie_version_control = "";
  mashiro_option.qzone_autocomplete = false;
  mashiro_option.site_name = "Casuor";
  mashiro_option.author_name = "";
  mashiro_option.site_url = "https://casuor.top";
  mashiro_option.v_appId = "88bwpzeLj6cM5Ih7CDJsUwzz-gzGzoHsz";
  mashiro_option.v_appKey = "L1bSPRMkKoL4w1KzkT85rXnl";
  mashiro_option.mathjax = "0";
  mashiro_option.qq_api_url = "https://api.mashiro.top/qqinfo/"; 
  mashiro_option.qq_avatar_api_url = "https://api.mashiro.top/qqinfo/";

  // mashiro_option.jsdelivr_css_src = "https://cdn.jsdelivr.net/gh/moezx/cdn@3.4.5/css/lib.min.css";
  // mashiro_option.float_player_on = true;

  /*End of Initial Variables*/
  </script>
  <script type="text/javascript">
  var bg = "https://cdn.jsdelivr.net/gh/Casuor/CDN/Image/Background/1.png,https://cdn.jsdelivr.net/gh/Casuor/CDN/Image/Background/2.png,https://cdn.jsdelivr.net/gh/Casuor/CDN/Image/Background/3.png,https://cdn.jsdelivr.net/gh/Casuor/CDN/Image/Background/4.png,https://cdn.jsdelivr.net/gh/Casuor/CDN/Image/Background/5.png,https://cdn.jsdelivr.net/gh/Casuor/CDN/Image/Background/6.png,https://cdn.jsdelivr.net/gh/Casuor/CDN/Image/Background/7.png,https://cdn.jsdelivr.net/gh/Casuor/CDN/Image/Background/8.png".split(",");
  var bgindex = Math.floor(Math.random()*bg.length);
  if (!!window.ActiveXObject || "ActiveXObject" in window) { //is IE?
    alert('朋友，IE浏览器未适配哦~');
  }
  </script>
  <style type="text/css">
  .hljs-ln{border-collapse:collapse}.hljs-ln td{padding:0}.hljs-ln-n:before{content:attr(data-line-number)}
  </style>
  <style type="text/css">.site-top .lower nav{display:block !important;}.author-profile i,.post-like a,.post-share .show-share,.sub-text,.we-info a,span.sitename,.post-more i:hover,#pagination a:hover,.post-content a:hover,.float-content i:hover{color:#FE9600}.feature i,.download,.navigator i:hover,.links ul li:before,.ar-time i,span.ar-circle,.object,.comment .comment-reply-link,.siren-checkbox-radio:checked + .siren-checkbox-radioInput:after{background:#FE9600}::-webkit-scrollbar-thumb{background:#FE9600}.download,.navigator i:hover,.link-title,.links ul li:hover,#pagination a:hover,.comment-respond input[type='submit']:hover{border-color:#FE9600}.entry-content a:hover,.site-info a:hover,.comment h4 a,#comments-navi a.prev,#comments-navi a.next,.comment h4 a:hover,.site-top ul li a:hover,.entry-title a:hover,#archives-temp h3,span.page-numbers.current,.sorry li a:hover,.site-title a:hover,i.iconfont.js-toggle-search.iconsearch:hover,.comment-respond input[type='submit']:hover{color:#FE9600}.comments .comments-main{display:block !important;}.comments .comments-hidden{display:none !important;}background-position:center center;background-attachment:inherit;}
  </style>
<meta name="generator" content="Hexo 4.2.1"></head>


<body
  class="page-template page-template-user page-template-page-analytics page-template-userpage-analytics-php page page-id-1297 chinese-font serif isWebKit">

  <div class="scrollbar" id="bar">
    <!--实现换肤-->
    <div class="skin-menu no-select" id="mainskin" style="position: fixed">
    <div class="theme-controls row-container">
        <ul class="menu-list">
            <li id="white-bg"> <i class="fa fa-television" aria-hidden="true"></i></li>
            <li id="sakura-bg"> <i class="iconfont icon-sakura"></i></li>
            <li id="gribs-bg"> <i class="fa fa-slack" aria-hidden="true"></i></li>
            <li id="KAdots-bg"> <i class="iconfont icon-dots"></i></li>
            <li id="totem-bg"> <i class="fa fa-optin-monster" aria-hidden="true"></i></li>
            <li id="pixiv-bg"> <i class="iconfont icon-pixiv"></i></li>
            <li id="bing-bg"> <i class="iconfont icon-bing"></i></li>
            <li id="dark-bg"> <i class="fa fa-moon-o" aria-hidden="true"></i></li>
        </ul>
    </div>
</div>
<canvas id="night-mode-cover"></canvas>
    <div class="changeSkin-gear no-select">
    <div class="keys" id="setbtn"> <span id="open-skinMenu"> 切换主题 | SCHEME TOOL &nbsp;<i
                class="iconfont icon-gear inline-block rotating"></i> </span></div>
</div>
  </div>

  <a href="#" class="cd-top faa-float animated"></a>
  <section id="main-container">
    <div class="headertop filter-dot">
  <div id="banner_wave_1"></div>
  <div id="banner_wave_2"></div>
  <figure id="centerbg" class="centerbg">
    <div class="focusinfo no-select">
      <div class="header-tou">
        <a href="https://casuor.top">
          <img src="https://cdn.jsdelivr.net/gh/Casuor/CDN//Image/avatar.png">
        </a>
      </div>
      <div class="header-info">
        <p>The wheel turns,nothing is ever new!</p>
        <div class="top-social_v2">
          <li id="bg-pre">
            <img class="flipx" src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/next-b.svg">
          </li>
          
            
              
                <li>
                  <a href="https://github.com/Casuor" target="_blank" class="social-github" title="github">
                    <img src="https://cdn.jsdelivr.net/gh/Casuor/CDN//Image/Social/github.ico">
                  </a>
                </li>
              
            
              
                <li>
                  <a href="http://j.mp/35ycJAK" target="_blank" class="social-github" title="sina">
                    <img src="https://cdn.jsdelivr.net/gh/Casuor/CDN//Image/Social/sina.ico">
                  </a>
                </li>
              
            
              
                <li>
                  <a href="https://music.163.com/#/user/home?id=280651004" target="_blank" class="social-github" title="netease">
                    <img src="https://cdn.jsdelivr.net/gh/Casuor/CDN//Image/Social/neat.ico">
                  </a>
                </li>
              
            
              
                <li>
                  <a href="https://www.zhihu.com/people/EyDBkb.io/activities" target="_blank" class="social-github" title="zhihu">
                    <img src="https://cdn.jsdelivr.net/gh/Casuor/CDN//Image/Social/zhihu.ico">
                  </a>
                </li>
              
            
              
                <li>
                  <a href="https://t.me/Eyestar" target="_blank" class="social-github" title="telegram">
                    <img src="https://cdn.jsdelivr.net/gh/Casuor/CDN//Image/Social/Telegram.ico">
                  </a>
                </li>
              
            
          
          <li id="bg-next">
            <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/next-b.svg">
          </li>
        </div>
      </div>
    </div>
  </figure>
  <div id="video-container" style="">
    <video style="object-fit: fill" id="bgvideo" class="video" video-name="" src="" width="auto" preload="auto">
    </video>
    <div id="video-btn" class="loadvideo videolive">
    </div>
    <div id="video-add">
    </div>
    <div class="video-stu">
    </div>
  </div>
  <div class="headertop-down faa-float animated" onclick="headertop_down()">
    <span>
      <i class="fa fa-chevron-down" aria-hidden="true">
      </i>
    </span>
  </div>
</div>
    <div id="page" class="site wrapper">
      <header class="site-header no-select gizle sabit" role="banner">
  <div class="site-top">
    <div class="site-branding">
      <span class="site-title">
        <span class="logolink moe-mashiro">
          <a href="/">
            <span class="sakurasono">Casuor</span>
            <span class="shironeko"></span>
          </a>
        </span>
      </span>
    </div>
    <div class="searchbox search-form-submit">
      <i class="iconfont js-toggle-search iconsearch icon-search">
      </i>
    </div>
    <div id="show-nav" class="showNav mobile-fit">
      <div class="line line1">
      </div>
      <div class="line line2">
      </div>
      <div class="line line3">
      </div>
    </div>
    <div class="lower-cantiner">
      <div class="lower">
        <nav class="mobile-fit-control hide">
          <ul id="menu-new" class="menu">
            
              <li>
                <a href="/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-fort-awesome faa-shake" aria-hidden="true"></i>
                    首页
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/archives">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-archive faa-shake" aria-hidden="true"></i>
                    归档
                  </span>
                </a>
                
                  <ul class="sub-menu">
                    
                      <li>
                        <a href="/categories/Geek/">
                          <i class="fa fa-code" aria-hidden="true"></i>
                          技术
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/Live/">
                          <i class="fa fa-file-text-o" aria-hidden="true"></i>
                          生活
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/Resource/">
                          <i class="fa fa-cloud-download" aria-hidden="true"></i>
                          资源
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/Thinking/">
                          <i class="fa fa-commenting-o" aria-hidden="true"></i>
                          随想
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/Transfer/">
                          <i class="fa fa-book" aria-hidden="true"></i>
                          转载
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="javascript:;">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-list-ul faa-vertical" aria-hidden="true"></i>
                    清单
                  </span>
                </a>
                
                  <ul class="sub-menu">
                    
                      <li>
                        <a href="/tags/Reading/">
                          <i class="fa fa-th-list faa-bounce" aria-hidden="true"></i>
                          书单
                        </a>
                      </li>
                    
                      <li>
                        <a href="/tags/Comic/">
                          <i class="fa fa-film faa-vertical" aria-hidden="true"></i>
                          动漫
                        </a>
                      </li>
                    
                      <li>
                        <a href="/tags/Music/">
                          <i class="fa fa-headphones" aria-hidden="true"></i>
                          歌单
                        </a>
                      </li>
                    
                      <li>
                        <a href="/tags/Picture/">
                          <i class="fa fa-photo" aria-hidden="true"></i>
                          图集
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/comment/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-pencil-square-o faa-tada" aria-hidden="true"></i>
                    留言板
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/links/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-link faa-shake" aria-hidden="true"></i>
                    友人帐
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-leaf faa-wrench" aria-hidden="true"></i>
                    关于
                  </span>
                </a>
                
                  <ul class="sub-menu">
                    
                      <li>
                        <a href="/about/">
                          <i class="fa fa-meetup" aria-hidden="true"></i>
                          我？
                        </a>
                      </li>
                    
                      <li>
                        <a href="/lab/">
                          <i class="fa fa-cogs" aria-hidden="true"></i>
                          我的盘
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/atom.xml">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-rss faa-pulse" aria-hidden="true"></i>
                    RSS
                  </span>
                </a>
                
              </li>
            
          </ul>
        </nav>
      </div>
    </div>
  </div>
</header>

      <link rel="stylesheet" type="text/css" href="/css/sharejs.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css">
<div class="pattern-center-blank"></div>

<div class="pattern-center single-center">
  <!-- 有配图默认渲染第一张 -->
  <div class="pattern-attachment-img lazyload" style="background-image: url(https://cdn.jsdelivr.net/gh/Casuor/CDN@latest/Posts/Image/Common/xiangxiang.jpg);"
    src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/loader/orange.progress-bar-stripe-loader.svg" data-src="https://cdn.jsdelivr.net/gh/Casuor/CDN@latest/Posts/Image/Common/xiangxiang.jpg">
  </div>
  <header class="pattern-header single-header">
    <h1 class="entry-title">
      Mysql使用</h1>
    <p class="entry-census">
      <span>
        <a href="">
          <img src="https://cdn.jsdelivr.net/gh/Casuor/CDN//Image/favicon.ico">
        </a>
      </span>
      <span>
        <a href=""></a>
      </span>
      <span class="bull">
        ·</span>
      2018-4-25<span class="bull">
        ·</span>
      <span id="busuanzi_value_page_pv"></span>次阅读</p>
  </header>
</div>

<div id="content" class="site-content">
  <div id="primary" class="content-area">
    <main id="main" class="site-main" role="main">
      <article id="post-1"
        class="post-1 post type-post status-publish format-standard has-post-thumbnail hentry category-uncategorized">
        <div class="toc"></div>
        <!--<div class="toc-entry-content"><!-- 套嵌目录使用（主要为了支援评论）-->
        
        <div class="entry-content">
          <h2 id="mysql服务及登陆数据库"><a href="#mysql服务及登陆数据库" class="headerlink" title="mysql服务及登陆数据库"></a><code>mysql</code>服务及登陆数据库</h2><pre><code>#启动
net start mysql
net stop mysql
#关闭
#登录
mysql -u root -p pwd
mysql -hip -u root -p pwd
mysql --host=ip --user=root --password=pwd

#退出
exit
quit</code></pre><h2 id="mysql数据目录"><a href="#mysql数据目录" class="headerlink" title="mysql数据目录"></a><code>mysql</code>数据目录</h2><pre><code>#数据库：文件夹
#表：文件
#数据：文件内容</code></pre><h2 id="数据库的crud"><a href="#数据库的crud" class="headerlink" title="数据库的crud"></a>数据库的crud</h2><pre><code>#sql分类
-- DDL (data definition language)定义数据库对象：数据库，表，列。
-- DML (data manipulation language)增删改表中数据
-- DQL (data query language)查询表中数据
-- DCL (data control language)数据库权限和安全级别，创建用户</code></pre><ul>
<li><code>DDL</code></li>
</ul>
<pre><code>#操作数据库：
#create
    #创建数据库
    create database dbname;
    #判断是否有此数据库且创建
    create database if not exists dbname;
    #指定创建的数据库字符集为gbk
    create database dbname charaacter set gbk;
#retrieve
    #查询所有数据库的名称
    show databases;
    #查看某个数据库的字符集
    show create database mysql;
#update
    #修改数据库的字符集
    alter database dbname character set 字符集名称;
#delete
    #删除数据库
    drop databasse dbname;
    #判断数据库存在，存在再删除
    drop database if exists dbname;
#使用数据库
    #查询正在使用的数据库
    select database();
    #使用数据库
    use dbname;

#操作表
#create
    #创建表
    create table tbname(
    列名1，数据类型1，
    列名2，数据类型2
    );
    #sql里的数据类型
    int
    double
    data
    datatime
    timestamp
    #timestamp不赋值或赋值为null,则默认使用当前系统的时间
    varchar
    #复制表
    create table tbname2 like tbname1;
#retrieve
    #查询数据库中所有表
    show tables;
    #查询表结构
    desc tbname;
#update
    #修改表名
    alter table tbname rename to ntbname;
    #修改表的字符集
    alter table tbname character set utf8;
    #修改表的列
        #添加
        alter table tbname add colname coltype;
        #删除
        alter table tbname drop colname;
        #修改
        alter table tbname change colname1 colname2 coltype; 
        alter table tbname modify colname coltype;
#delete
    #删除表
    drop table tablename;
    drop table if  exists tablename;</code></pre><ul>
<li><code>DML</code></li>
</ul>
<pre><code>#添加数据
insert into tbname(col1,col2) values(v1,v2)
#所有列都添加数据
insert into tbname values(v1,v2,v3,v4)
#删除数据
delete from tbname [where]    [条件]
#删除所有数据
delete from tbname;    --一条条删，效率低
truncate table tbname;    --删除表，重新创建一张同样的表
#修改数据
update tbname set col1=v1,col2=v2 [where][条件]; </code></pre><ul>
<li><code>DQL</code></li>
</ul>
<pre><code>#查询所有数据
select * from tbname;
#查询某数据
select Field1,Field2 
from tbname 
where [条件] 
grop by [分组字段] 
having [分组后条件] 
order by [排序] 
limit [分页限定]

#基础查询
    #多个字段的查询
    select Field1,Field2 from tbname;
    #去除重复
    select distinct field1 from tbname;
    #计算列
    select field1+field2 from tbname;
    #如果为空替换为0
    select field1 + ifnull(field2,0) from tbname;
    #起别名
    select field1 alias1 + ifnull(field2,0) as alias2 from tbname;
#条件查询
    #where字句跟条件
    #运算符
        #&gt;,&gt;=,=,!=,&lt;&gt;,and,between...and,or,in,is,like
            #null不能使用=，！=判断，可使用 is判断

    #like模糊查询
        # _ 一个字符
        # % 任意个字符

#排序查询
    #order by
    order by 排序字段1 排序方式1，排序字段2 排序方式2；
    select * from tbname order by field1 DESC;
        #ASC 升序 默认
        #DESC 降序 
        #多个排序条件，则当前边的条件一样时，才会判断第二条件
#聚合函数
    #将一列数据作为一个整体，进行纵向计算,排除了null值
    #count
    select count(field1) from tbname;
    #使用非空字段，如主键
    #如果为空，默认设置为0
    select count(ifnull(field1,0)) from tbname;
    #max
    #min
    #sum
    #avg
#分组查询
    #group by 分组字段
    select field1,avg(field2) from tbname where field3 &gt; 60 group by field1 having count(field4)&gt;2;
        select field1,avg(field2),count(field4) alias from tbname where field3 &gt; 60 group by field1 having alias&gt;2;
    #分组之后查询的字段：分组字段，聚合函数
    #where和having的区别？
        #where作用位置，在分组之前进行限定，如果不满足条件，则不参与分组。having在分组之后进行条件限定，如不满足，则不会查询出来。
        #where后不能跟聚合函数判断

#分页查询
    #语法：limit 开始索引，每页查询的条数
    #公式：开始索引=（当前页码-1）*每页条数
    select * from tbname limit 0,3;

#约束
    #概念：对表中数据进行限定，保证数据的正确性，有效性和完整性。
    #分类：主键约束(primary key)，非空约束(not null)，唯一约束(unique)，外键约束(foreign key)
    #非空约束(not null)
    alter table tbname modify field1 varchar(20) not null;
    #唯一约束(unique)
    create table tbname(
        id int,
        phone varchar(11) unique
    );
    #表创建完成后添加唯一约束
    alter table tbname modify phone varchar(11) unique;
    #删除唯一约束
    alter table tbname drop index phone;
    #主键约束(primary key)
    create table tbname(
        id int primary key,
        phone varchar(11) unique
    );
    #表创建完成后添加主键
    alter table tbname modify id int primary key;
    #删除主键
    alter table tbname drop primary key;
    #自动增长
        #概念：如果某一列是数值类型，使用auto_increment 可以完成自动增长
        create table tbname(
            id int primary key auto_increment,
            phone varchar(11) unique
        );
        #删除自动增长
        alter table tbname modify id int;
        #添加自动增长
        alter table tbname modify id int auto_increment;
    #外键约束
        #在创建表时，添加外键
        create  table tbname(
            外键列
            constraint 外键名称 foreign key （子表外键列名称） references 主表名称（主表列名称）
        );
        #删除外键
        alter table tbname drop foreign key 外键名称;
        #创建表之后添加外键
        alter table tbname add constraint 外键名称 foreign key （子表外键列名称） references 主表名称（主表列名称）;
    #级联操作
        #添加级联操作
        #级联更新
        alter table tbname add constraint 外键名称 foreign key （子表外键列名称） references 主表名称（主表列名称） on update cascade;
        #级联删除
        alter table tbname add constraint 外键名称 foreign key （子表外键列名称） references 主表名称（主表列名称） on delete cascade;


#多表之间的关系
    #一对一
        #一对一关系实现，可以在任意一方添加外键指向另一方的主键（外键唯一性）
    #一对多
        #部门，员工
        #实现方式：在多的一方建立外键，指向一的一方的主键。
    #多对多
        #多对多关系实现需要借助第三张中间表
        #中间表至少包含两个字段，这两个字段作为第三张表的外键,这两个字段分别为这两张表的主键
#数据库设计范式
    #概念：设计数据库时，需要遵循的一些规范。要遵循后边的范式要求，必须遵循前边的所有范式要求
    #设计关系数据库时，遵从不同的规范要求，设计出合理的关系型数据库，这些不同的规范要求被称为不同的范式，各种范式呈递次规范，越高的范式数据库孕育越小。
    #目前关系型数据库有六种范式：
    #第一范式(1NF)每一列都是不可分割的原子数据项
    #第二范式(2NF)在第一范式的基础上，非码属性必须完全依赖于候选码
    #第三范式(3NF)在第二范式的基础上，任何非主属性不依赖于其他非主属性
    #巴斯-科德范式(BCNF)
    #第四范式(4NF)
    #第五范式(SNF)
#数据酷的备份及还原
    #备份
    mysqldump -u用户名 -p密码 数据库名 &gt; 保存的路径
    #还原
    #登录数据库
    #创建数据库
    #使用数据库
    #执行文件
    mysqld -u用户名 -p密码;
    create database db1；
    use db1;
    source 文件路径;



#多表查询
select * from tbname1,tbname2;
#笛卡尔积
#消除无用数据    
    #内连接查询
        #1.隐式
        select * from tbname1,tbname2 where &apos;tbid1&apos;=&apos;tbid2&apos;;
        #一般写法
        select
            t1.name,t2.name
        from
            tbname1 t1,tbname2 t2
        where
            t1.&apos;tbid1&apos;= t2.&apos;tbid2&apos;;
        #2.显式
        select * from tbname1 t1 inner join tbname2 t2 on t1.&apos;tbid1&apos;= t2.&apos;tbid2&apos;;
    #外连接查询
        #1.左外连接
        #左表的所有记录及左表右表中的交集
        select [field] from tbname1 left outer join tbname2 on 条件;

        #2.右外连接
        select [field] from tbname1 right outer join tbname2 on 条件;
    #子查询
        #概念：查询中嵌套的查询
        select * from tbname where tbname.&apos;field&apos; = (select Max(field) from tbname);
        #子查询的不同情况
            #单行单列
            -- 子查询可以作为条件，使用运算符去判断
            -- 例：查询财务部和市场部的某员工的信息
            #多行单列
            -- 子查询可以作为条件使用运算符in来判断
            -- 例：查询财务部和市场部的所有员工的信息
            select id from deptarment where name = &apos;财务部&apos; or name = &apos;市场部&apos;；
            select * from tb1 where tb1_id in (select id from tb2 where name = &apos;财务部&apos; or name = &apos;市场部&apos;);
            #多行多列
            #子查询可以作为一张虚拟表参与查询
            #查询员工的入职日期是2011-11-11日之后的员工信息和部门信息
            select * from tb2 ,(select * from tb1 where tb1.join_data &gt;&apos;2011-11-11&apos;) where t1.id =t2.id;
            select * from tb1,tb2 where t1.id = t2.id and tb1.join_data &gt;&apos;2011-11-11&apos;;
#事务
    #1. 事务的基本介绍
        1. 概念：
            *  如果一个包含多个步骤的业务操作，被事务管理，那么这些操作要么同时成功，要么同时失败。

        2. 操作：
            1. 开启事务： start transaction;
            2. 回滚：rollback;
            3. 提交：commit;
        3. 例子：
            CREATE TABLE account (
                id INT PRIMARY KEY AUTO_INCREMENT,
                NAME VARCHAR(10),
                balance DOUBLE
            );
            -- 添加数据
            INSERT INTO account (NAME, balance) VALUES (&apos;zhangsan&apos;, 1000), (&apos;lisi&apos;, 1000);


​            
            SELECT * FROM account;
            UPDATE account SET balance = 1000;
            -- 张三给李四转账 500 元

            -- 0. 开启事务
            START TRANSACTION;
            -- 1. 张三账户 -500

            UPDATE account SET balance = balance - 500 WHERE NAME = &apos;zhangsan&apos;;
            -- 2. 李四账户 +500
            -- 出错了...
            UPDATE account SET balance = balance + 500 WHERE NAME = &apos;lisi&apos;;

            -- 发现执行没有问题，提交事务
            COMMIT;

            -- 发现出问题了，回滚事务
            ROLLBACK;
        4. MySQL数据库中事务默认自动提交

            * 事务提交的两种方式：
                * 自动提交：
                    * mysql就是自动提交的
                    * 一条DML(增删改)语句会自动提交一次事务。
                * 手动提交：
                    * Oracle 数据库默认是手动提交事务
                    * 需要先开启事务，再提交
            * 修改事务的默认提交方式：
                * 查看事务的默认提交方式：SELECT @@autocommit; -- 1 代表自动提交  0 代表手动提交
                * 修改默认提交方式： set @@autocommit = 0;


    2. 事务的四大特征：
        1. 原子性：是不可分割的最小操作单位，要么同时成功，要么同时失败。
        2. 持久性：当事务提交或回滚后，数据库会持久化的保存数据。
        3. 隔离性：多个事务之间。相互独立。
        4. 一致性：事务操作前后，数据总量不变
    3. 事务的隔离级别（了解）
        * 概念：多个事务之间隔离的，相互独立的。但是如果多个事务操作同一批数据，则会引发一些问题，设置不同的隔离级别就可以解决这些问题。
        * 存在问题：
            1. 脏读：一个事务，读取到另一个事务中没有提交的数据
            2. 不可重复读(虚读)：在同一个事务中，两次读取到的数据不一样。
            3. 幻读：一个事务操作(DML)数据表中所有记录，另一个事务添加了一条数据，则第一个事务查询不到自己的修改。
        * 隔离级别：
            1. read uncommitted：读未提交
                * 产生的问题：脏读、不可重复读、幻读
            2. read committed：读已提交 （Oracle）
                * 产生的问题：不可重复读、幻读
            3. repeatable read：可重复读 （MySQL默认）
                * 产生的问题：幻读
            4. serializable：串行化
                * 可以解决所有的问题

            * 注意：隔离级别从小到大安全性越来越高，但是效率越来越低
            * 数据库查询隔离级别：
                * select @@tx_isolation;
            * 数据库设置隔离级别：
                * set global transaction isolation level  级别字符串;

        * 演示：
            set global transaction isolation level read uncommitted;
            start transaction;
            -- 转账操作
            update account set balance = balance - 500 where id = 1;
            update account set balance = balance + 500 where id = 2;



## DCL：
    * SQL分类：
        1. DDL：操作数据库和表
        2. DML：增删改表中数据
        3. DQL：查询表中数据
        4. DCL：管理用户，授权

    * DBA：数据库管理员

    * DCL：管理用户，授权
        1. 管理用户
            1. 添加用户：
                * 语法：CREATE USER &apos;用户名&apos;@&apos;主机名&apos; IDENTIFIED BY &apos;密码&apos;;
            2. 删除用户：
                * 语法：DROP USER &apos;用户名&apos;@&apos;主机名&apos;;
            3. 修改用户密码：

                UPDATE USER SET PASSWORD = PASSWORD(&apos;新密码&apos;) WHERE USER = &apos;用户名&apos;;
                UPDATE USER SET PASSWORD = PASSWORD(&apos;abc&apos;) WHERE USER = &apos;lisi&apos;;

                SET PASSWORD FOR &apos;用户名&apos;@&apos;主机名&apos; = PASSWORD(&apos;新密码&apos;);
                SET PASSWORD FOR &apos;root&apos;@&apos;localhost&apos; = PASSWORD(&apos;123&apos;);

                * mysql中忘记了root用户的密码？
                    1. cmd -- &gt; net stop mysql 停止mysql服务
                        * 需要管理员运行该cmd

                    2. 使用无验证方式启动mysql服务： mysqld --skip-grant-tables
                    3. 打开新的cmd窗口,直接输入mysql命令，敲回车。就可以登录成功
                    4. use mysql;
                    5. update user set password = password(&apos;你的新密码&apos;) where user = &apos;root&apos;;
                    6. 关闭两个窗口
                    7. 打开任务管理器，手动结束mysqld.exe 的进程
                    8. 启动mysql服务
                    9. 使用新密码登录。
            4. 查询用户：
                -- 1. 切换到mysql数据库
                USE myql;
                -- 2. 查询user表
                SELECT * FROM USER;

                * 通配符： % 表示可以在任意主机使用用户登录数据库

        2. 权限管理：
            1. 查询权限：
                -- 查询权限
                SHOW GRANTS FOR &apos;用户名&apos;@&apos;主机名&apos;;
                SHOW GRANTS FOR &apos;lisi&apos;@&apos;%&apos;;

            2. 授予权限：
                -- 授予权限
                grant 权限列表 on 数据库名.表名 to &apos;用户名&apos;@&apos;主机名&apos;;
                -- 给张三用户授予所有权限，在任意数据库任意表上

                GRANT ALL ON *.* TO &apos;zhangsan&apos;@&apos;localhost&apos;;
            3. 撤销权限：
                -- 撤销权限：
                revoke 权限列表 on 数据库名.表名 from &apos;用户名&apos;@&apos;主机名&apos;;
                REVOKE UPDATE ON db3.`account` FROM &apos;lisi&apos;@&apos;%&apos;;</code></pre>
        </div>
        <!-- .entry-content -->
        <div class="single-reward">
          <div class="reward-open">赏
            <div class="reward-main">
              <ul class="reward-row">
                <li class="alipay-code"><img src="https://cdn.jsdelivr.net/gh/Casuor/CDN/null"></li>
                <li class="wechat-code"><img src="https://cdn.jsdelivr.net/gh/Casuor/CDN/null"></li>
              </ul>
            </div>
          </div>
        </div>
        <div style="text-align:center; width: 100%" class="social-share share-mobile" data-disabled="diandian, tencent">
        </div>
        <footer class="post-footer">
          <div class="post-lincenses"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh"
              target="_blank" rel="nofollow"><i class="fa fa-creative-commons" aria-hidden="true"></i>
              知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a></div>
          <div class="post-tags">
          </div>
          <div class="post-share">
            <div class="social-share sharehidden share-component"></div>
            <i class="iconfont show-share icon-forward"></i>
          </div>
        </footer><!-- .entry-footer -->
      </article>
      <!-- #post-## -->
      <div class="toc" style="background: none;"></div>
      <section class="post-squares nextprev">
        
        
        <div class="post-nepre half previous">
          
            <a href="/2018/04/25/geek_MysqlInstall/" rel="prev">
              <div class="background">
                <img class="lazyload" src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/loader/orange.progress-bar-stripe-loader.svg" data-src="https://cdn.jsdelivr.net/gh/Casuor/CDN@latest/Posts/Image/Common/xiangxiang.jpg"
                  style="width: 100%; height: 100%; object-fit: cover; pointer-events: none;" onerror="imgError(this,3)"
                  src="https://cdn.jsdelivr.net/gh/Casuor/CDN@latest/Posts/Image/Common/xiangxiang.jpg">
              </div>
              <span class="label">
                Previous Post</span>
              <div class="info">
                <h3>
                  Mysql install for windows</h3>
                <hr>
              </div>
            </a>
          </div>
          
          
          
          <div class="post-nepre half next">
            
              <a href="/2018/03/25/geek_csharpcs/" rel="next">
                <div class="background">
                  <img class="lazyload" src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/loader/orange.progress-bar-stripe-loader.svg" data-src="https://cdn.jsdelivr.net/gh/Casuor/CDN@latest/Posts/Image/Common/xiangxiang.jpg"
                    style="width: 100%; height: 100%; object-fit: cover; pointer-events: none;"
                    onerror="imgError(this,3)" src="https://cdn.jsdelivr.net/gh/Casuor/CDN@latest/Posts/Image/Common/xiangxiang.jpg">
                </div>
                <span class="label">
                  Next Post</span>
                <div class="info">
                  <h3>
                    commom-class-C#</h3>
                  <hr>
                </div>
              </a>
            </div>
            
      </section>
      
<div id="vcomments"></div>
<script>
  window.onload = function(){
      var valine = new Valine();
      valine.init({
        el: '#vcomments',
        appId: "88bwpzeLj6cM5Ih7CDJsUwzz-gzGzoHsz",
        appKey: "L1bSPRMkKoL4w1KzkT85rXnl",
        path: window.location.pathname,
        placeholder: "你是我一生只会遇见一次的惊喜 ..."
      })
  }
</script>

      <section class="author-profile">
        <div class="info" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
          <a href="" class="profile gravatar"><img src="" itemprop="image"
              alt="" height="70" width="70"></a>
          <div class="meta">
            <span class="title">Author</span>
            <h3 itemprop="name">
              <a href="" itemprop="url" rel="author"></a>
            </h3>
          </div>
        </div>
        <hr>
        <p><i class="iconfont icon-write"></i></p>
      </section>
    </main><!-- #main -->
  </div><!-- #primary -->
</div>


    </div>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..."/>
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            // PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
    <!-- <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 Casuor<br>
      powered_by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer> -->
<footer id="colophon" class="site-footer" role="contentinfo">
  <div class="site-info">
    <div class="footertext">
      <div class="img-preload">
        <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/wordpress-rotating-ball-o.svg">
        <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/disqus-preloader.svg">
      </div>
      <p style="color: #666666;">&copy 2018</p>
    </div>
    <div class="footer-device">
    <p style="font-family: 'Ubuntu', sans-serif;">
        <span style="color: #b9b9b9;">Theme <a href="https://github.com/honjun/hexo-theme-sakura" target="_blank" style="color: #b9b9b9;;text-decoration: underline dotted rgba(0, 0, 0, .1);">Sakura</a> <i class="iconfont icon-sakura rotating" style="color: #ffc0cb;display:inline-block"></i> by <a href="https://2heng.xin/" target="_blank" style="color: #b9b9b9;;text-decoration: underline dotted rgba(0, 0, 0, .1);">Mashiro</a>&<a href="https://www.hojun.cn/" target="_blank" style="color: #b9b9b9;;text-decoration: underline dotted rgba(0, 0, 0, .1);">Hojun</a>, Powered by Hexo, Hosted by Coding Pages</a>
        </span>
      </p>
    </div>
  </div><!-- .site-info -->
</footer>



<!-- <script src="/js/tocbot.js"></script> -->
<script type="text/javascript" src="/js/lib.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script type="text/javascript" src="/js/InsightSearch.js"></script>
<script type="text/javascript" src="/js/jquery.fancybox.min.js"></script>
<script type="text/javascript" src="/js/zoom.min.js"></script>
<script type="text/javascript" src="/js/sakura-app.js"></script>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='//unpkg.com/valine@1.3.4/dist/Valine.min.js'></script>
<script src="/js/botui.js"></script>
<!-- 不蒜子 网页计数器 -->
<script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js"></script> -->
<script type="text/javascript">
/* <![CDATA[ */
if (/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
  var Poi = {"pjax":"1","movies":{"url": "https://cdn.jsdelivr.net/gh/Casuor/CDN/Video","name":"success.mp4","live":"close"},"windowheight":"fixed","codelamp":"close","ajaxurl":"","order":"asc","formpostion":"bottom"};
} else {
  var Poi = {"pjax":"1","movies":{"url": "https://cdn.jsdelivr.net/gh/Casuor/CDN/Video","name":"success.mp4","live":"open"},"windowheight":"auto","codelamp":"close","ajaxurl":"","order":"asc","formpostion":"bottom"};
}
/* ]]> */

</script>
<script>
$(document).ready(function() {
  if ($(".toc").length > 0 && document.body.clientWidth > 1200) {
    if ($(".pattern-center").length > 0) { //有图的情况
      tocbot.init({
          // Where to render the table of contents.
          tocSelector: '.toc', // 放置目录的容器
          // Where to grab the headings to build the table of contents.
          contentSelector: '.entry-content', // 正文内容所在
          // Which headings to grab inside of the contentSelector element.
          scrollSmooth: true,
          headingSelector: 'h1, h2, h3, h4, h5', // 需要索引的标题级别
          headingsOffset: -400,
          scrollSmoothOffset: -85
      });
    } else {
      tocbot.init({
          // Where to render the table of contents.
          tocSelector: '.toc', // 放置目录的容器
          // Where to grab the headings to build the table of contents.
          contentSelector: '.entry-content', // 正文内容所在
          // Which headings to grab inside of the contentSelector element.
          scrollSmooth: true,
          headingSelector: 'h1, h2, h3, h4, h5', // 需要索引的标题级别
          headingsOffset: -85,
          scrollSmoothOffset: -85
      });
    }
    var offsetTop = $('.toc').offset().top - 95;
    window.onscroll = function() {
      var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;
      if (scrollTop >= offsetTop) {
        $('.toc').addClass('toc-fixed');
      } else {
        $('.toc').removeClass('toc-fixed');
      }
    }
  }
});
</script>

    <div class="openNav no-select" style="height: 50px;">
      <div class="iconflat no-select" style="width: 50px; height: 50px;">
        <div class="icon"></div>
      </div>
      <div class="site-branding search-form-submit">
        <i class="iconfont js-toggle-search iconsearch icon-search"></i>
      </div>
    </div>
  </section>
  <div id="mo-nav" class="">
  <div class="m-avatar">
    <img src="https://cdn.jsdelivr.net/gh/Casuor/CDN//Image/avatar.png">
  </div>
  <p style="text-align: center; color: #333; font-weight: 900; font-family: 'Ubuntu', sans-serif; letter-spacing: 1.5px">Casuor</p>
  <p style="text-align: center; word-spacing: 20px;">
    
      
        <a href="https://github.com/Casuor" class="fa fa-github" target="_blank" style="color: #333; margin-left:20px"></a>
      
        <a href="http://j.mp/35ycJAK" class="fa fa-weibo" target="_blank" style="color: #dd4b39; margin-left:20px"></a>
      
    
  </p>
  <ul id="menu-new-1" class="menu">
    
      <li>
        <a href="/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-fort-awesome faa-shake" aria-hidden="true"></i>
            首页
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/archives">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-archive faa-shake" aria-hidden="true"></i>
            归档
          </span>
        </a>
        
          <ul class="sub-menu">
            
              <li>
                <a href="/categories/Geek/">
                  <i class="fa fa-code" aria-hidden="true"></i>
                  技术
                </a>
              </li>
            
              <li>
                <a href="/categories/Live/">
                  <i class="fa fa-file-text-o" aria-hidden="true"></i>
                  生活
                </a>
              </li>
            
              <li>
                <a href="/categories/Resource/">
                  <i class="fa fa-cloud-download" aria-hidden="true"></i>
                  资源
                </a>
              </li>
            
              <li>
                <a href="/categories/Thinking/">
                  <i class="fa fa-commenting-o" aria-hidden="true"></i>
                  随想
                </a>
              </li>
            
              <li>
                <a href="/categories/Transfer/">
                  <i class="fa fa-book" aria-hidden="true"></i>
                  转载
                </a>
              </li>
            
          </ul>
        
      </li>
    
      <li>
        <a href="javascript:;">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-list-ul faa-vertical" aria-hidden="true"></i>
            清单
          </span>
        </a>
        
          <ul class="sub-menu">
            
              <li>
                <a href="/tags/Reading/">
                  <i class="fa fa-th-list faa-bounce" aria-hidden="true"></i>
                  书单
                </a>
              </li>
            
              <li>
                <a href="/tags/Comic/">
                  <i class="fa fa-film faa-vertical" aria-hidden="true"></i>
                  动漫
                </a>
              </li>
            
              <li>
                <a href="/tags/Music/">
                  <i class="fa fa-headphones" aria-hidden="true"></i>
                  歌单
                </a>
              </li>
            
              <li>
                <a href="/tags/Picture/">
                  <i class="fa fa-photo" aria-hidden="true"></i>
                  图集
                </a>
              </li>
            
          </ul>
        
      </li>
    
      <li>
        <a href="/comment/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-pencil-square-o faa-tada" aria-hidden="true"></i>
            留言板
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/links/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-link faa-shake" aria-hidden="true"></i>
            友人帐
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-leaf faa-wrench" aria-hidden="true"></i>
            关于
          </span>
        </a>
        
          <ul class="sub-menu">
            
              <li>
                <a href="/about/">
                  <i class="fa fa-meetup" aria-hidden="true"></i>
                  我？
                </a>
              </li>
            
              <li>
                <a href="/lab/">
                  <i class="fa fa-cogs" aria-hidden="true"></i>
                  我的盘
                </a>
              </li>
            
          </ul>
        
      </li>
    
      <li>
        <a href="/atom.xml">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-rss faa-pulse" aria-hidden="true"></i>
            RSS
          </span>
        </a>
        
      </li>
    
  </ul>
  <p style="text-align: center; font-size: 13px; color: #b9b9b9;">&copy 2019 hexo-sakura</p>
</div>
<button onclick="topFunction()" class="mobile-cd-top" id="moblieGoTop" title="Go to top" style="display: none;"><i class="fa fa-chevron-up" aria-hidden="true"></i></button>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css">
<script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script>
<!-- require MetingJS -->
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>
<style>
  .aplayer .aplayer-lrc {
    height: 35px;
  }
  .aplayer .aplayer-lrc p{
    font-size: 16px;
    font-weight: 700;
    line-height: 18px !important;
  }
  .aplayer .aplayer-lrc p.aplayer-lrc-current{
    color: #FF1493;
  }
  .aplayer.aplayer-narrow .aplayer-body{
    left: -66px !important;
  }
  .aplayer.aplayer-fixed .aplayer-lrc {
    display: none;
  }
  .aplayer .aplayer-lrc.aplayer-lrc-hide {
      display:none !important;
  }
  .aplayer.aplayer-fixed .lrc-show {
    display: block;
    background: rgba(255, 255, 255, 0.8);
  }
</style>
<meting-js

    id="3099159214"

    server="netease"

    type="playlist"

    fixed="true"

    autoplay="false"

    loop="all"

    order="random"

    preload="auto"

    volume="0.7"

    mutex="true"

</meting-js>
<script>
  $(function(){
    $('body').on('click', '.aplayer', function(){
      if($('.aplayer-button').hasClass('aplayer-play')) {
        $('.aplayer-lrc').removeClass('lrc-show');
      } else {
        $('.aplayer-lrc').addClass('lrc-show');
      }
    })
  });
</script>
</body>

</html>